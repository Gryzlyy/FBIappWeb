{% extends 'missions/index.html.twig' %}


{% block title %}
    {{ skill.name }}
{% endblock %}

{% block body %}

    {% include "_header.html.twig" %}

    <h1 class="p-2 mt-4">{{ skill.name }} </h1>

    <table class="table table-hover table-responsive text-justify align-middle mx-5" style="max-width:40em">
        <tbody>
        <tr>
            <th>Name</th>
            <td>{{ skill.name }}</td>
        </tr>
        <tr>
            <th>Description</th>
            <td>{{ skill.description }}</td>
        </tr>
        <tr>
            <th>Agents controlling {{ skill.name }}</th>
            <td>
                {% for agent in skill.agents %}
                    <a href="{{ path('agent_details', {'id': agent.id}) }}">
                        {{ agent.codeName }} <br>
                    </a>
                {% endfor %}
            </td>
        </tr>
        <tr>
            <th><a href="{{ path('app.home') }}">Missions </a> requiring <strong>{{ skill.name }}</strong></th>
            <td>
                {% for mission in skill.missions %}
                    <a href="{{ path('mission_details', {'id': mission.id}) }}">
                        {{ mission.title }} <br>
                    </a>
                {% endfor %}
            </td>
        </tr>
        </tbody>
    </table>
    <button class="btn btn-md btn-primary mx-5">
        <a href="{{ path('app_login') }}" style="color: white; text-decoration: none">
            Sign in
        </a>
    </button>

    {#  {% if is_granted('ROLE_ADMIN') %} #}
    <button class="btn btn-md btn-success mx-2">
        <a href="{{ path('skill_add') }}" style="color: white; text-decoration: none">
            Add a skill
        </a>
    </button>
    {#  {% endif %}#}
{% endblock %}